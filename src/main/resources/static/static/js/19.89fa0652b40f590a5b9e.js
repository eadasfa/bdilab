webpackJsonp([19],{MWS6:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".el-tabs[data-v-236cc9d0]{min-height:400px}.el-card[data-v-236cc9d0]{min-height:400px;min-width:240px}.el-tree[data-v-236cc9d0]{border:0}.el-row[data-v-236cc9d0]{margin-bottom:20px}.el-row[data-v-236cc9d0]:last-child{margin-bottom:0}.el-col[data-v-236cc9d0]{border-radius:4px}.check-summary-text[data-v-236cc9d0]{min-width:800px}",""])},ZPf4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"方案设计说明"}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",loading:t.loading,type:"primary",icon:"el-icon-check"},on:{click:t.onSaveClick}},[t._v("保存")])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:24}},t._l(t.programDesign,function(e){return a("el-form",{key:e.label,attrs:{inline:"",labelPosition:"top",model:t.formData}},[e.type?t._e():a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.label}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:e.value},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}})],1)],1),t._v(" "),"mainCrafts"===e.key?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.label}},[a("el-checkbox-group",{model:{value:t.mainCrafts,callback:function(e){t.mainCrafts=e},expression:"mainCrafts"}},t._l(e.options,function(e){return a("el-checkbox",{key:e,staticStyle:{width:"300px"},attrs:{label:e}},[t._v(t._s(e))])}))],1)],1):t._e(),t._v(" "),"mainMaterial"===e.key?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.label}},[a("el-checkbox-group",{model:{value:t.mainMaterial,callback:function(e){t.mainMaterial=e},expression:"mainMaterial"}},t._l(e.options,function(e){return a("el-checkbox",{key:e,staticStyle:{width:"200px"},attrs:{label:e}},[t._v(t._s(e))])}))],1)],1):t._e()],1)}))],1),t._v(" "),a("el-tab-pane",{attrs:{label:"图纸"}},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",loading:t.loading,type:"primary",icon:"el-icon-check"},on:{click:t.onSaveClick}},[t._v("保存")])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-form",{attrs:{model:t.formData}},t._l(t.drawingFromData,function(e){return a("el-col",{key:e,staticStyle:{"margin-bottom":"20px"},attrs:{span:6,offset:1}},[a("el-checkbox-group",{model:{value:t.drawing,callback:function(e){t.drawing=e},expression:"drawing"}},[a("el-checkbox",{attrs:{label:e}})],1)],1)}))],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"方案文件生成"}},[a("el-row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:24}},[a("el-col",{attrs:{offset:4,span:20}},[a("el-button",{staticStyle:{width:"180px"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleDowloadProgramDesignDescription}},[t._v("方案设计说明")])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{offset:4,span:20}},[a("el-button",{staticStyle:{width:"180px"},attrs:{type:"warning",icon:"el-icon-download"},on:{click:t.handleDowloadEngineeringQuantity}},[t._v("工程数量表")])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{offset:4,span:20}},[a("el-button",{staticStyle:{width:"180px"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleDowloadProgramDesignOverallFile}},[t._v("图纸")])],1)],1)],1)],1)],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},ZhMn:function(t,e,a){"use strict";var i=a("Dd8w"),n=a.n(i),r=a("NYxO"),o=a("0xDb"),s=[{key:"designBasis",label:"设计依据：",value:"(1)XXX委托书或合同（XX年XX月）(2)XXX桥检测报告（XX年XX月）；(3)XXX桥施工图或竣工图（XX年XX月）"},{key:"technologyStandard",label:"技术标准：",value:"本次加固设计维持原桥设计标准:（1）道路级别：高速公路；（2）设计车道：双向四车道；（3）设计荷载：汽车-超20级，挂车-120；（4）抗震标准：地震动峰值加速度为0.05g，地震基本烈度为Ⅵ度；（5）设计洪水频率：P=1/100"},{key:"designIdeasAndPoints",label:"设计思路及要点:",value:"包括养护维修设计目标及主要内容"},{key:"mainCrafts",label:"主要施工工艺：",value:"",type:"select",options:["一般性裂缝处治","粘贴钢板加固","体外预应力施工","预应力碳纤维板施工","新增横隔板施工","混凝土表面缺损处理","主梁烟熏处理","桥墩腐蚀盖梁处理","盖梁挡块裂缝处理","新增钢结构施工","植筋施工","锚栓施工","支座更换","支座局部脱空处理","伸缩缝更换","伸缩缝更换橡胶条","伸缩缝锚固区混凝土破损修补","混凝土硅烷浸渍防腐涂装","混凝土水泥基渗透结晶型材料涂装","钢构件防腐涂装","沥青混凝土桥面铺装局部修补","沥青混凝土桥面铺装裂缝灌注","桥台锥坡塌陷处理","增设泄水管及栅盖"]},{key:"mainMaterial",label:"主要维修加固材料：",value:"",type:"select",options:["钢筋及焊接材料","钢板","锚栓及螺栓","补偿收缩混凝土","钢纤维混凝土","聚合物改性水泥砂浆","胶粘剂","钢筋阻锈剂/保护剂","硅烷","水泥基渗透结晶型涂料","钢构件表面防腐涂装","伸缩缝","沥青混凝土","锥坡砂砾垫层","其他材料"]}],l=["T01裂缝表面封闭示意图","T02裂缝压力注浆示意图","T03混凝土表层缺陷处治示意图","T04桥面铺装处治示意图","T05伸缩缝处增设护栏挡板构造","T06支座局部脱空处理示意图","T07增设桥面横向排水管示意图","T08桥台锥坡塌陷修补示意图","T09构件防腐涂装示意图","T10粘贴钢板加固示意图","T11粘贴碳纤维布加固示意图","T12空心板粘贴钢板抗弯加固","T13横隔板粘贴钢板加固","T14桥墩腐蚀盖梁修补示意图","T15挡块裂缝处治示意图","T16台身钢花杆注浆加固","T17空心板更换支座示意图","T18预制箱梁更换支座示意图","T19T梁顶升更换支座示意图","T20吊杆PE修复构造示意图"],c={designBasis:"",technologyStandard:"",designIdeasAndPoints:"",mainCrafts:"",mainMaterial:"",drawing:""};e.a={data:function(){return{loading:!1,bridge:{},programDesign:s,formData:c,mainCrafts:[],mainMaterial:[],drawingFromData:l,drawing:[]}},mounted:function(){if(!this.$route.query.id&&!this.selectedBridge.id)return void a.i(o.d)("未选择桥梁，无法进行操作！",{type:"error"});this.selectedBridge.id&&(this.bridge=this.selectedBridge,this.query())},computed:n()({},a.i(r.b)(["selectedBridge","menus","periodInspection"])),watch:{menus:function(){var t=this;if(!this.bridge.id){var e=this.$route.query.id;this.menus.forEach(function(a){var i=a.children.filter(function(t){return t.id===parseInt(e)});i.length&&(t.bridge=i[0],t.selectBridge(t.bridge),t.query())})}},periodInspection:function(){if(!this.formData.id){this.formData=a.i(o.c)(this.periodInspection);var t=this.formData,e=t.mainCrafts,i=t.mainMaterial,n=t.drawing,r=t.designBasis,s=t.technologyStandard,l=t.designIdeasAndPoints;if(r||(this.formData.designIdeasAndPdesignBasisoints=this.programDesign[0].value),s||(this.formData.technologyStandard=this.programDesign[1].value),l||(this.formData.designIdeasAndPoints=this.programDesign[2].value),e){var c=e.split(";");this.formData.mainCrafts=c,this.mainCrafts=c}if(i){var d=i.split(";");this.formData.mainMaterial=d,this.mainMaterial=d}if(n){var m=n.split(";");this.formData.drawing=m,this.drawing=m}}}},methods:n()({},a.i(r.c)(["selectBridge","queryPeriodInspection","createPeriodInspection","updatePeriodInspection"]),{query:function(){var t=this;this.loading=!0,this.queryPeriodInspection(this.bridge).then(function(){t.loading=!1}).catch(function(e){if(t.loading=!1,e&&e.response&&e.response.status){switch(e.response.status){case 404:t.createPeriodInspection({bridge:t.bridge});break;default:console.log(e)}}})},onSaveClick:function(){var t=this;this.loading=!0;var e=this.mainCrafts,i=this.mainMaterial,n=this.drawing;if(0!==e.length){var r=e.join(";");this.formData.mainCrafts=r}else this.formData.mainCrafts="";if(0!==i.length){var s=i.join(";");this.formData.mainMaterial=s}else this.formData.mainMaterial="";if(0!==n.length){var l=n.join(";");this.formData.drawing=l}else this.formData.drawing="";this.updatePeriodInspection(this.formData).then(function(){a.i(o.d)(),t.loading=!1}).catch(function(e){a.i(o.d)("",{type:"error"}),t.loading=!1})},handleDowloadProgramDesignDescription:function(){var t=this;this.$confirm("您确定生成并下载方案设计说明吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.open("/api/maintenance/programDesignDescription/bridges/"+t.bridge.id)}).catch(function(){a.i(o.d)("取消下载!",{type:"info"})})},handleDowloadEngineeringQuantity:function(){var t=this;this.$confirm("您确定生成并下载工程数量表吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.open("/api/excel/maintenance/engineeringQuantity/bridges/"+t.bridge.id)}).catch(function(){a.i(o.d)("取消下载!",{type:"info"})})},handleDowloadProgramDesignOverallFile:function(){var t=this;this.$confirm("您确定生成并下载图纸吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.open("/api/maintenance/programDesignOverallFile/bridges/"+t.bridge.id)}).catch(function(){a.i(o.d)("取消下载!",{type:"info"})})}})}},bObC:function(t,e,a){var i=a("MWS6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("0258067c",i,!0)},yS40:function(t,e,a){"use strict";function i(t){a("bObC")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("ZhMn"),r=a("ZPf4"),o=a("VU/8"),s=i,l=o(n.a,r.a,s,"data-v-236cc9d0",null);e.default=l.exports}});