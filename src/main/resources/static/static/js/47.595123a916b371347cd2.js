webpackJsonp([47],{TxNP:function(e,t){},lC8S:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("ZoQJ"),i={permissionId:"",permissionNode:"",permissionStatus:0,permissionVisiable:1,level:1,menuPath:"",menuIco:"",type:0},n={permissionVisiable:"",permissionNode:"",permissionStatus:"",type:"",current:1},s=[{label:"不可用",value:0},{label:"可用",value:1}],r=[{label:"不可见",value:0},{label:"可见",value:1}],o=[{label:"商家用户",value:0},{label:"系统用户",value:1}],u={data:function(){return{total:0,formData:Object(a.b)(i),currentDialogVisible:!1,dialogStatus:"create",dialogTitleMap:{update:"修改",create:"新增"},statusOptions:s,visiableOptions:r,userTypeOptions:o,formInline:n,tableData:[]}},mounted:function(){this.query()},methods:{query:function(){var e=this;this.$axios({method:"get",url:"/permission/list",dataType:"json",params:this.formInline}).then(function(t){var l=t.records;e.tableData=l,e.total=t.total}).catch(function(e){})},handleCurrentChange:function(e){this.formInline.current=e,this.query()},handleCancel:function(){this.currentDialogVisible=!1},onAddClick:function(e){this.dialogStatus=e,this.currentDialogVisible=!0},handleAdd:function(){this.currentDialogVisible=!0},onUpdateClick:function(e,t){this.dialogStatus=e,this.formData=Object(a.b)(t),this.currentDialogVisible=!0},handleUpdate:function(){var e=this,t=this.formData,l={permissionId:t.permissionId,permissionStatus:t.permissionStatus,permissionVisiable:t.permissionVisiable,type:t.type};this.$axios({method:"post",url:"/permission/modifyPermission",params:l}).then(function(t){0===t.code?(Object(a.d)("修改成功！",{type:"success"}),e.currentDialogVisible=!1,e.query()):Object(a.d)("修改失败！",{type:"error"})}).catch(function(e){console.log("error",e)})}}},c={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"container"},[l("div",{staticClass:"handle-box"},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[l("el-form-item",{attrs:{label:"权限名称"}},[l("el-input",{attrs:{placeholder:"请输入权限名称"},model:{value:e.formInline.permissionNode,callback:function(t){e.$set(e.formInline,"permissionNode",t)},expression:"formInline.permissionNode"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"权限状态"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.permissionStatus,callback:function(t){e.$set(e.formInline,"permissionStatus",t)},expression:"formInline.permissionStatus"}},e._l(e.statusOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"权限可见性"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.permissionVisiable,callback:function(t){e.$set(e.formInline,"permissionVisiable",t)},expression:"formInline.permissionVisiable"}},e._l(e.visiableOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"用户类型"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.userTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),l("el-button",{staticClass:"handle-del mr10 right",attrs:{type:"primary",icon:"add"},on:{click:function(t){e.onAddClick("create")}}},[e._v("增加\n        ")])],1)],1),e._v(" "),l("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[l("el-table-column",{attrs:{width:"50",type:"index",label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.$index+10*(e.formInline.current-1)+1))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"permissionNode",label:"权限名称",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"permissionStatus",label:"权限状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0===t.row.permissionStatus?"不可用":"可用")+"\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"permissionVisiable",label:"权限可见性",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0===t.row.permissionVisiable?"不可见":"可见")+"\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"用户类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0===t.row.type?"商家用户":"系统用户")+"\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(l){e.onUpdateClick("update",t.row)}}},[e._v("修改\n            ")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"","current-page":e.formInline.current,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.formInline,"current",t)}}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.dialogTitleMap[e.dialogStatus],visible:e.currentDialogVisible},on:{"update:visible":function(t){e.currentDialogVisible=t}}},[l("el-row",{attrs:{gutter:24}},[l("el-col",{attrs:{span:22}},[l("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"权限状态",prop:"permissionStatus"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.permissionStatus,callback:function(t){e.$set(e.formData,"permissionStatus",t)},expression:"formData.permissionStatus"}},e._l(e.statusOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"权限可见性",prop:"permissionVisiable"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.permissionVisiable,callback:function(t){e.$set(e.formData,"permissionVisiable",t)},expression:"formData.permissionVisiable"}},e._l(e.visiableOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"用户类型",prop:"type"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.userTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticStyle:{"margin-left":"120px"}},[l("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),"create"==e.dialogStatus?l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleAdd()}}},[e._v("确定")]):l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleUpdate()}}},[e._v("确定")])],1)],1)],1)],1)],1)],1)])},staticRenderFns:[]};var p=l("VU/8")(u,c,!1,function(e){l("TxNP")},"data-v-3bfb4e91",null);t.default=p.exports}});