webpackJsonp([16],{GSDo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{ref:"form",staticClass:"father",attrs:{model:t.form,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"消费者微信账号"}},[i("el-input",{model:{value:t.form.cus_account,callback:function(e){t.$set(t.form,"cus_account",e)},expression:"form.cus_account"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"消费者电话"}},[i("el-input",{model:{value:t.form.cus_tel,callback:function(e){t.$set(t.form,"cus_tel",e)},expression:"form.cus_tel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"消费者备注"}},[i("el-input",{model:{value:t.form.cus_remark,callback:function(e){t.$set(t.form,"cus_remark",e)},expression:"form.cus_remark"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer center",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var l={name:"rest_info_manager",data:function(){return{url:"./static/json_data/cus_info_manager.json",tableData:[],cus_info_addsub:!0,defaultSrc:"./static/img/img.jpg",fileList:[],imgSrc:"",cropImg:"",dialogVisible:!1,cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,addVisible:!1,delVisible:!1,form:{rest_num:"",rest_name:"",tel:"",id_number:"",name:""},idx:-1}},created:function(){this.getData(),this.cropImg=this.defaultSrc},computed:{data:function(){var t=this;return this.tableData.filter(function(e){for(var i=0;i<t.del_list.length;i++)if(e.name===t.del_list[i].name){!0;break}})}},components:{cus_info_pop:i("VU/8")({name:"rest_info_pop",data:function(){return{dialogVisible:!1,cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,form:{rest_num:"",rest_name:"",tel:"",id_number:"",name:""}}},created:function(){},computed:{},components:{},methods:{saveEdit:function(){}}},a,!1,function(t){i("gpSU")},"data-v-2f60f577",null).exports},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this;this.$axios({method:"get",url:"./static/json_data/cus_info_manager.json",dataType:"json",crossDomain:!0,cache:!1}).then(function(e){t.tableData=e.data.list})},search:function(){this.is_search=!0},filterTag:function(t,e){return e.tag===t},handleEdit:function(t,e){this.idx=t;var i=this.tableData[t];this.form={cus_num:i.cus_num,cus_account:i.cus_account,cus_tel:i.cus_tel,cus_remark:i.cus_remark},this.editVisible=!0},handleAdd:function(){this.addVisible=!0},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},delAll:function(){var t=this.multipleSelection.length,e="";this.del_list=this.del_list.concat(this.multipleSelection);for(var i=0;i<t;i++)e+=this.multipleSelection[i].name+" ";this.$message.error("删除了"+e),this.multipleSelection=[]},handleSelectionChange:function(t){this.multipleSelection=t},deleteRow:function(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1},setImage:function(t){var e=this,i=t.target.files[0];if(i.type.includes("image/")){var a=new FileReader;a.onload=function(t){e.dialogVisible=!0,e.imgSrc=t.target.result,e.$refs.cropper&&e.$refs.cropper.replace(t.target.result)},a.readAsDataURL(i)}},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL()},cancelCrop:function(){this.dialogVisible=!1,this.cropImg=this.defaultSrc},imageuploaded:function(t){console.log(t)},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传接口上传失败，可更改为自己的服务器接口"})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-shop"}),t._v(" 餐饮店信息")])],1)],1),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[t.cus_info_addsub?i("el-button",{staticClass:"handle-del mr10 right",attrs:{type:"primary",icon:"add"},on:{click:function(e){t.handleAdd()}}},[t._v("添加\n            ")]):t._e(),t._v(" "),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入编号或名称或电话"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),i("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"cus_account",label:"消费者微信账号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"cus_tel",label:"消费者电话"}}),t._v(" "),i("el-table-column",{attrs:{prop:"cus_remark",label:"消费者备注"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){t.handleEdit(e.$index,e.row)}}},[t._v("编辑\n                    ")]),t._v(" "),t.cus_info_addsub?i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){t.handleDelete(e.$index,e.row)}}},[t._v("删除\n                    ")]):t._e()]}}])})],1),t._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"500px"},on:{"update:visible":function(e){t.editVisible=e}}},[i("cus_info_pop")],1),t._v(" "),i("el-dialog",{attrs:{title:"添加",visible:t.addVisible,width:"500px"},on:{"update:visible":function(e){t.addVisible=e}}},[i("cus_info_pop")],1),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[i("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var n=i("VU/8")(l,s,!1,function(t){i("uo3u")},"data-v-37bf74ac",null);e.default=n.exports},gpSU:function(t,e){},uo3u:function(t,e){}});