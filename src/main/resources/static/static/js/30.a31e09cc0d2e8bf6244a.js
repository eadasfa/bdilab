webpackJsonp([30],{qoyZ:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t("ZoQJ"),l=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],i={bargainTacticsStartTime:Object(o.i)(),bargainTacticsEndTime:Object(o.h)(),bargainTacticsDiscount:"",bargainTacticsTotalNumber:"",bargainTimeSpan:"",bargainTacticsDistanceBase:"",bargainTacticsUintDistance:"",barginMaxDistance:"",maxAmount:"",bargainTacticsFreeStatus:"",bargainTacticsFreeMinShareNum:"",bargainTacticsFreeMaxNbargainDateum:0,bargainDate:"",couponNum:"",couponList:"",couponBagList:"",bothUse:"",bargainTacticsNote:""},n={payTacticsStartTime:Object(o.i)(),payTacticsEndTime:Object(o.h)(),bargainTimeSpan:"",bargainTacticsDistanceBase:"",bargainTacticsUintDistance:"",barginMaxDistance:"",maxAmount:"",bargainTacticsFreeStatus:"",bargainTacticsFreeMinShareNum:"",bargainTacticsFreeMaxNbargainDateum:0,bargainDate:"",couponNum:"",couponList:"",couponBagList:"",bothUse:"",payPeriod:null,effectTime:Object(o.i)(),bargainTacticsNote:""},r={scanCodeTacticsStartTime:Object(o.i)(),scanCodeTacticsEndTime:Object(o.h)(),marketingStrategyID:null,scanCodeDate:null,scanCodePeriod:null,scanCodeTacticsId:null,scanCodeTacticsName:null,effectTime:Object(o.i)(),scanCodeTimes:0},c=[{label:"是",value:0},{label:"否",value:1}],s=[{label:"是",value:!0},{label:"否",value:!1}],d={data:function(){return{checkAll:!1,payCouponList:[],checkedWeek:[],options:c,bothUseOptions:s,defaultBeginDate:Object(o.i)(),week:l,isInline:!0,isIndeterminate:!0,superDialog:!1,payDialog:!1,scanCodeDialog:!1,scanCodeDetailDialog:!1,superDetailDialog:!1,payDetailDialog:!1,total:0,activeValue:!0,inactiveValue:!1,merchantCouponOptions:[],merchantCouponBagOptions:[],selectedCouponList:[],selectedCouponBagList:[],isFreeCharge:!1,addRuleForm:Object(o.b)(i),payFormData:Object(o.b)(n),scanCodeFormData:Object(o.b)(r),formInline:{marketingStrategyDesc:"",current:1},tableData:[],beginPickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},endPickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},mounted:function(){this.query()},methods:{query:function(){var e=this,a=localStorage.selectedShop;this.$axios.get("/marketingStrategy/listByIdAndType?id="+a,{params:this.formInline}).then(function(a){if(0===a.code){var t=a.result;e.tableData=t}else Object(o.e)("查询失败!",{type:"error"})}).catch(function(e){Object(o.e)("查询失败!",{type:"error"})})},queryMerchantCoupon:function(){var e=this,a=localStorage.selectedShop;this.$axios.get("/couponTactics/getCouponTactics?id="+a).then(function(a){var t=a.records;e.merchantCouponOptions=t}).catch(function(e){})},queryMerchantCouponBag:function(){var e=this,a=localStorage.selectedShop;this.$axios.get("/couponTactics/getCouponTacticsBag?id="+a).then(function(a){var t=a.couponBagList;e.merchantCouponBagOptions=t}).catch(function(e){})},handleCheckAllChange:function(e){this.checkedWeek=e?l:[],this.isIndeterminate=!1},handleStatusChange:function(e){var a=this,t={marketStrategyFlag:e.marketStrategyFlag,marketingStrategyID:e.marketingStrategyID};this.$axios({methods:"post",url:"/marketingStrategy/updateStatus",params:t}).then(function(e){if(0===e.code)Object(o.e)("操作成功！",{type:"success"}),a.query();else{Object(o.e)("操作失败！",{type:"error"});var t=a.inactiveValue;a.inactiveValue=a.activeValue,a.activeValue=t,a.query()}}).catch(function(e){a.query(),Object(o.e)("操作失败！",{type:"error"}),console.log("error",e)})},handleCheckedWeekChange:function(e){var a=e.length;this.checkAll=a===this.week.length,this.isIndeterminate=a>0&&a<this.week.length},handleFreeChargeChange:function(){var e=this.addRuleForm.bargainTacticsFreeStatus;this.isFreeCharge=0===e},handleCurrentChange:function(e){this.formInline.current=e,this.query()},handleSettingClick:function(e){var a=e.marketingStrategyType,t=e.marketStrategyFlag;if(this.queryMerchantCoupon(),this.queryMerchantCouponBag(),1===a){if(t)return void Object(o.e)("需要修改活动请先停止使用！",{type:"warning"});this.handleOpenSuperDialog(),this.superDialog=!0}else if(4===a){if(t)return void Object(o.e)("需要修改活动请先停止使用！",{type:"warning"});this.handleOpenPayDialog(),this.payDialog=!0}else if(5===a){if(t)return void Object(o.e)("需要修改活动请先停止使用！",{type:"warning"});this.handleOpenScanCodeDialog(),this.scanCodeDialog=!0}},handleDetailClick:function(e){var a=e.marketingStrategyType;this.queryMerchantCoupon(),this.queryMerchantCouponBag(),1===a?(this.handleOpenSuperDialog(),this.superDetailDialog=!0):4===a?(this.handleOpenPayDialog(),this.payDetailDialog=!0):5===a&&(this.handleOpenScanCodeDialog(),this.scanCodeDetailDialog=!0)},handleOpenSuperDialog:function(){var e=this,a=localStorage.selectedShop;this.$axios.post("/bargainTactics/findBargainTacticsById/"+a).then(function(a){if(0===a.code){var t=a.bargainTactics,o=a.couponList,l=a.couponBagList;e.addRuleForm=t,e.selectedCouponList=[],e.selectedCouponBagList=[];for(var i=0;i<o.length;i++){var n=o[i].couponID;e.selectedCouponList.push(n)}for(var r=0;r<l.length;r++){var c=l[r].couponBagID;e.selectedCouponBagList.push(c)}var s=e.addRuleForm.bargainDate;if(s){var d=s.split(",");d[0]?e.checkedWeek=d:e.checkedWeek=[]}}else e.$notify.error({title:"失败",message:"网络原因，无法获取数据"})}).catch(function(e){Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"})})},handleOpenPayDialog:function(){var e=this,a=localStorage.selectedShop;this.$axios.post("/payTactics/findPayTacticsById/"+a).then(function(a){if(0===a.code){var t=a.data,o=t.payTactics,l=t.payCouponList;e.payFormData=o,e.payCouponList=l;var i=o.payDate;if(i){var n=i.split(",");n[0]?e.checkedWeek=n:e.checkedWeek=[]}}else e.$notify.error({title:"失败",message:"网络原因，无法获取数据"})}).catch(function(e){Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"}),console.log("error",e)})},handleOpenScanCodeDialog:function(){var e=this,a=localStorage.selectedShop;this.$axios.post("/scanCodeTactics/findPayTacticsById/"+a).then(function(a){if(0===a.code){var t=a.scanCodeTactics,l=a.couponList,i=a.couponBagList;e.scanCodeFormData=t,e.selectedCouponList=[],e.selectedCouponBagList=[];for(var n=0;n<l.length;n++){var r=l[n].couponID;e.selectedCouponList.push(r)}for(var c=0;c<i.length;c++){var s=i[c].couponID;e.selectedCouponBagList.push(s)}var d=e.scanCodeFormData.scanCodeDate;if(d){var u=d.split(",");u[0]?e.checkedWeek=u:e.checkedWeek=[]}}else Object(o.e)("网络原因，无法获取数据",{type:"error"})}).catch(function(e){console.log("error",e),Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"})})},onAddReturnCouponItemClick:function(){this.payCouponList;this.payCouponList.push({arrayTimes:0,backCondition:null,couponBagList:[],couponList:[]})},onCloseClick:function(){this.payDialog=!1,this.superDialog=!1,this.scanCodeDialog=!1},submitScanCodeForm:function(e){var a=this,t=localStorage.selectedShop;0!==this.selectedCouponList.length||0!==this.selectedCouponBagList.length?this.$refs[e].validate(function(e){if(e){var l="/scanCodeTactics/updateScanCodeTactics/"+t;delete a.scanCodeFormData.couponList,delete a.scanCodeFormData.couponBagList;var i=a.checkedWeek.join(",");a.scanCodeFormData.scanCodeDate=i,a.$axios.post(l,a.scanCodeFormData).then(function(e){var t=a.selectedCouponList,o=a.scanCodeFormData,l=a.selectedCouponBagList,i=o.scanCodeTacticsId,n={couponList:t.filter(function(e){return"number"==typeof e}),couponBagList:l.filter(function(e){return"number"==typeof e})},r="/scanCodeTactics/updateCouponPayTacticsById/"+i;a.$axios.post(r,n).then(function(e){0===e.code||1===e.code?(a.$notify.success({title:"成功",message:"设置成功"}),a.scanCodeDialog=!1,a.scanCodeFormData=[]):a.$notify.error({title:"失败",message:"设置失败"})})}).catch(function(e){console.log("error",e),Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"})})}}):Object(o.e)("至少选择一张可用优惠券或优惠券包！",{type:"warning"})},submitPayForm:function(e){var a=this,t=localStorage.selectedShop;this.$refs[e].validate(function(e){if(e){var l="/payTactics/updatePayTactics/"+t,i=a.checkedWeek.join(",");a.payFormData.payDate=i,a.$axios.post(l,a.payFormData).then(function(e){var t=a.payCouponList,o="/payTactics/updateCouponPayTacticsById/"+a.payFormData.payTacticsId;a.$axios.post(o,t).then(function(e){0===e.code||1===e.code?(a.$notify.success({title:"成功",message:"设置成功"}),a.payDialog=!1,a.payFormData=[]):a.$notify.error({title:"失败",message:"设置失败"})})}).catch(function(e){console.log(e),Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"})})}})},submitForm:function(e){var a=this,t=localStorage.selectedShop;0!==this.selectedCouponList.length||0!==this.selectedCouponBagList.length?this.$refs[e].validate(function(e){if(e){var l="/bargainTactics/updateBargainTactics/"+t;delete a.addRuleForm.couponList,delete a.addRuleForm.couponBagList;var i=a.checkedWeek.join(",");a.addRuleForm.bargainDate=i,a.$axios.post(l,a.addRuleForm).then(function(e){var t=a.selectedCouponList,o=a.addRuleForm,l=a.selectedCouponBagList,i=o.bargainTacticsID,n={couponList:t.join(","),couponBagList:l.join(",")},r="/bargainTactics/updateCouponTacticsById/"+i;a.$axios.post(r,n).then(function(e){0===e.code||1===e.code?(a.$notify.success({title:"成功",message:"设置成功"}),a.superDialog=!1,a.addRuleForm=[]):a.$notify.error({title:"失败",message:"设置失败"})})}).catch(function(e){console.log("error",e),Object(o.e)("请稍后再试或联系系统管理员！",{type:"error"})})}}):this.$notify.warning({title:"提示",message:"至少选择一张可用优惠券或优惠券包！"})}}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"策略名称"}},[t("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:e.formInline.marketingStrategyDesc,callback:function(a){e.$set(e.formInline,"marketingStrategyDesc",a)},expression:"formInline.marketingStrategyDesc"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1)],1),e._v(" "),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{width:50,fixed:"",type:"index",label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.$index+10*(e.formInline.current-1)+1))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"marketingStrategyDesc",label:"策略名称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"marketingStrategyNote",label:"策略描述",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"状态",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{attrs:{"active-text":"使用中","active-value":e.activeValue,"inactive-value":e.inactiveValue,"inactive-text":"停止","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){e.handleStatusChange(a.row)}},model:{value:a.row.marketStrategyFlag,callback:function(t){e.$set(a.row,"marketStrategyFlag",t)},expression:"scope.row.marketStrategyFlag"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.handleSettingClick(a.row)}}},[e._v("\n            设置\n          ")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.handleDetailClick(a.row)}}},[e._v("\n            详情\n          ")])]}}])})],1),e._v(" "),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.formInline.current,lauut:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.$set(e.formInline,"current",a)}}})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"支付返券策略设置",visible:e.payDialog},on:{"update:visible":function(a){e.payDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:22}},[t("el-form",{ref:"payForm",attrs:{model:e.payFormData,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"策略名称:",prop:"payTacticsName"}},[t("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:e.payFormData.payTacticsName,callback:function(a){e.$set(e.payFormData,"payTacticsName",a)},expression:"payFormData.payTacticsName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"payTacticsStartTime"}},[[t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.payFormData.payTacticsStartTime,callback:function(a){e.$set(e.payFormData,"payTacticsStartTime",a)},expression:"payFormData.payTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.payFormData.payTacticsEndTime,callback:function(a){e.$set(e.payFormData,"payTacticsEndTime",a)},expression:"payFormData.payTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"返券周期:",prop:"payPeriod"}},[t("el-input-number",{attrs:{min:0,label:"请选择"},model:{value:e.payFormData.payPeriod,callback:function(a){e.$set(e.payFormData,"payPeriod",a)},expression:"payFormData.payPeriod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"周期生效时间:",prop:"effectTime"}},[[t("el-date-picker",{attrs:{clearable:!1,type:"date",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.payFormData.effectTime,callback:function(a){e.$set(e.payFormData,"effectTime",a)},expression:"payFormData.effectTime"}})]],2),e._v(" "),t("el-button",{staticStyle:{"margin-left":"20px"},on:{click:e.onAddReturnCouponItemClick}},[e._v("添加返券列表")]),e._v(" "),e._l(e.payCouponList,function(a,o){return t("el-form-item",{key:o,staticStyle:{},attrs:{label:"返券列表"+(o+1)+"：",prop:"payDate"}},[[t("br"),e._v(" "),t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:4}},[t("span",[e._v("返券条件: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-input",{attrs:{placeholder:"请输入返券条件"},model:{value:a.backCondition,callback:function(t){e.$set(a,"backCondition",t)},expression:"item.backCondition"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("span",[e._v("到店次数: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-input-number",{attrs:{min:0,max:200,label:"请选择"},model:{value:a.arrayTimes,callback:function(t){e.$set(a,"arrayTimes",t)},expression:"item.arrayTimes"}})],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"5px"},attrs:{offset:1}},[t("el-col",{attrs:{span:11}},[t("font",{attrs:{color:"red"}},[e._v("（表示XXX元以上返券）")])],1),e._v(" "),t("el-col",{attrs:{span:11,offset:2}},[t("font",{attrs:{color:"red"}},[e._v("（到店次数之内发券，大于不发券）")])],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{span:4}},[t("span",[e._v("优惠券选择: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:a.couponList,callback:function(t){e.$set(a,"couponList",t)},expression:"item.couponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("span",[e._v("优惠券包选择:")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:a.couponBagList,callback:function(t){e.$set(a,"couponBagList",t)},expression:"item.couponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1)],1)]],2)}),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(a){e.checkAll=a},expression:"checkAll"}},[e._v("\n                全选\n              ")]),e._v(" "),t("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),t("el-checkbox-group",{on:{change:e.handleCheckedWeekChange},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v("\n                  "+e._s(a)+"\n                ")])}))]],2),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"120px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitPayForm("payForm")}}},[e._v("确认")]),e._v(" "),t("el-button",{on:{click:function(a){e.onCloseClick()}}},[e._v("取消")]),e._v(" "),t("el-button",{on:{click:e.onAddReturnCouponItemClick}},[e._v("添加返券列表")])],1)],2)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"支付返券策略详情",visible:e.payDetailDialog},on:{"update:visible":function(a){e.payDetailDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:24}},[t("el-form",{attrs:{inline:!0,model:e.payFormData,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"策略名称:",prop:"payTacticsName"}},[t("el-input",{attrs:{disabled:""},model:{value:e.payFormData.payTacticsName,callback:function(a){e.$set(e.payFormData,"payTacticsName",a)},expression:"payFormData.payTacticsName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"payTacticsStartTime"}},[[t("el-date-picker",{attrs:{disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.payFormData.payTacticsStartTime,callback:function(a){e.$set(e.payFormData,"payTacticsStartTime",a)},expression:"payFormData.payTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.payFormData.payTacticsEndTime,callback:function(a){e.$set(e.payFormData,"payTacticsEndTime",a)},expression:"payFormData.payTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"返券周期:",prop:"payPeriod"}},[t("el-input",{attrs:{disabled:""},model:{value:e.payFormData.payPeriod,callback:function(a){e.$set(e.payFormData,"payPeriod",a)},expression:"payFormData.payPeriod "}})],1),e._v(" "),e._l(e.payCouponList,function(a,o){return t("el-form-item",{key:o,staticStyle:{},attrs:{label:"返券列表"+(o+1)+"：",prop:"payDate"}},[[t("br"),e._v(" "),t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:4}},[t("span",[e._v("返券条件: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-input",{attrs:{placeholder:"请输入返券条件"},model:{value:a.backCondition,callback:function(t){e.$set(a,"backCondition",t)},expression:"item.backCondition"}})],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("span",[e._v("到店次数: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-input-number",{attrs:{min:0,max:200,label:"请选择"},model:{value:a.arrayTimes,callback:function(t){e.$set(a,"arrayTimes",t)},expression:"item.arrayTimes"}})],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{span:4}},[t("span",[e._v("优惠券选择: ")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:a.couponList,callback:function(t){e.$set(a,"couponList",t)},expression:"item.couponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-col",{attrs:{span:4,offset:1}},[t("span",[e._v("优惠券包选择:")])]),e._v(" "),t("el-col",{attrs:{span:7}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:a.couponBagList,callback:function(t){e.$set(a,"couponBagList",t)},expression:"item.couponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1)],1)]],2)}),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox-group",{attrs:{disabled:""},on:{change:e.handleCheckedWeekChange},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v("\n                  "+e._s(a)+"\n                ")])}))]],2)],2)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"助力红包策略设置",visible:e.superDialog},on:{"update:visible":function(a){e.superDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:22}},[t("el-form",{ref:"activeForm",attrs:{model:e.addRuleForm,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"活动名称:"}},[t("div",[e._v("助力红包")])]),e._v(" "),t("el-form-item",{attrs:{label:"策略类型:"}},[t("div",[e._v("超级助力红包")])]),e._v(" "),t("el-form-item",{attrs:{label:"策略说明:"}},[t("div",[e._v("微信朋友帮忙砍价，微信结账后返现")])]),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"bargainTacticsStartTime"}},[[t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.addRuleForm.bargainTacticsStartTime,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsStartTime",a)},expression:"addRuleForm.bargainTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.addRuleForm.bargainTacticsEndTime,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsEndTime",a)},expression:"addRuleForm.bargainTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"优惠金额:",prop:"bargainTacticsDiscount",rules:[{required:!0,message:"优惠金额不能为空"},{pattern:/^100$|^(\d|[1-9]\d)$/,message:"优惠金额比不能超过100%",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"优惠金额的折扣%比"},model:{value:e.addRuleForm.bargainTacticsDiscount,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsDiscount",a)},expression:"addRuleForm.bargainTacticsDiscount"}},[t("template",{slot:"append"},[e._v(" 参考值：20 ")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"最大参与人数:",prop:"bargainTacticsTotalNumber",rules:[{required:!0,message:"最大参与人数不能为空"},{pattern:/^150$|^1[0-4]\d$|^(\d|[1-9]\d)$/,message:"最大参与人数不能超过150人",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"分享账单参与活动最大人数"},model:{value:e.addRuleForm.bargainTacticsTotalNumber,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsTotalNumber",a)},expression:"addRuleForm.bargainTacticsTotalNumber"}},[t("template",{slot:"append"},[e._v(" 参考值：30 ")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"活动结束时长:",prop:"bargainTimeSpan",rules:[{required:!0,message:"活动结束时长不能为空"},{pattern:/^[6-9]\d$|^[1-2]\d\d$|^3[0-5]\d$|^360$/,message:"活动时长范围为60~360分钟",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"分享活动发起后多长时间结束，建议240分钟"},model:{value:e.addRuleForm.bargainTimeSpan,callback:function(a){e.$set(e.addRuleForm,"bargainTimeSpan",a)},expression:"addRuleForm.bargainTimeSpan"}},[t("template",{slot:"append"},[e._v("参考值：240")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"距离基数:",prop:"bargainTacticsDistanceBase",rules:[{required:!0,message:"距离基数不能为空"},{pattern:/^(\d|1\d)(.(\d{1,2}))?$|^20(.0{1,2})?$/,message:"距离基数为0-20之间的两位小数",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"在距离发起活动的距离内开始计算最近距离参加活动"},model:{value:e.addRuleForm.bargainTacticsDistanceBase,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsDistanceBase",a)},expression:"addRuleForm.bargainTacticsDistanceBase"}},[t("template",{slot:"append"},[e._v("参考值：2.5 ")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"距离增加:",prop:"bargainTacticsUintDistance",rules:[{required:!0,message:"距离增加条件不能为空"},{pattern:/^(\d|[1-4]\d)(.(\d{1,2}))?$|^50(.0{1,2})?$/,message:"距离增加条件为0-50之间的两位小数",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"超过基本距离，每次增加的距离，优惠券的级别增加1级"},model:{value:e.addRuleForm.bargainTacticsUintDistance,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsUintDistance",a)},expression:"addRuleForm.bargainTacticsUintDistance"}},[t("template",{slot:"append"},[e._v("参考值：2.5 ")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"最大距离:",prop:"barginMaxDistance",rules:[{required:!0,message:"最大距离不能为空"},{pattern:/^\d$|^[1-9]\d$|^[1-9]\d\d$|^1\d\d\d$|^2000$/,message:"最大距离不能超过2000",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"超过此距离发放初级优惠券"},model:{value:e.addRuleForm.barginMaxDistance,callback:function(a){e.$set(e.addRuleForm,"barginMaxDistance",a)},expression:"addRuleForm.barginMaxDistance"}},[t("template",{slot:"append"},[e._v("参考值：100")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"每次砍价最大金额:",prop:"maxAmount",rules:[{required:!0,message:"每次砍价最大金额不能为空"},{pattern:/^\d$|^[1-9]\d$|^100$/,message:"单次砍价最大金额不能大于100",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"可以按照单均*优惠折扣/10计算"},model:{value:e.addRuleForm.maxAmount,callback:function(a){e.$set(e.addRuleForm,"maxAmount",a)},expression:"addRuleForm.maxAmount"}},[t("template",{slot:"append"},[e._v(" 参考值：5   ")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠到免单:",prop:"bargainTacticsFreeStatus"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.handleFreeChargeChange},model:{value:e.addRuleForm.bargainTacticsFreeStatus,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeStatus",a)},expression:"addRuleForm.bargainTacticsFreeStatus"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.isFreeCharge?t("el-form-item",{attrs:{label:"免单最低砍价人:",prop:"bargainTacticsFreeMinShareNum",rules:[{required:!0,message:"免单最低砍价人不能为空"},{pattern:/^[3-9]\d$|^[1-2]\d\d$|^300$/,message:"免单最低砍价人范围为30~300",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"根据邓巴理论上限为150"},model:{value:e.addRuleForm.bargainTacticsFreeMinShareNum,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeMinShareNum",a)},expression:"addRuleForm.bargainTacticsFreeMinShareNum"}},[t("template",{slot:"append"},[e._v(" 参考值：80 ")])],2)],1):e._e(),e._v(" "),e.isFreeCharge?t("el-form-item",{attrs:{label:"每天免单数量:",prop:"bargainTacticsFreeMaxNum",rules:[{required:!0,message:"每天免单数量不能为空"},{pattern:/^\d$|^[1-9]\d$|^100$/,message:"每天免单数量不能大于100",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"每天免单的账单数量"},model:{value:e.addRuleForm.bargainTacticsFreeMaxNum,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeMaxNum",a)},expression:"addRuleForm.bargainTacticsFreeMaxNum"}},[t("template",{slot:"append"},[e._v("  参考值：3  ")])],2)],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(a){e.checkAll=a},expression:"checkAll"}},[e._v("全选")]),e._v(" "),t("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),t("el-checkbox-group",{on:{change:e.handleCheckedWeekChange},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v(e._s(a))])}))]],2),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券:",prop:"couponList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedCouponList,callback:function(a){e.selectedCouponList=a},expression:"selectedCouponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券包:",prop:"couponBagList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedCouponBagList,callback:function(a){e.selectedCouponBagList=a},expression:"selectedCouponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠券是否可以和助力活动同时使用",prop:"bothUse"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.addRuleForm.bothUse,callback:function(a){e.$set(e.addRuleForm,"bothUse",a)},expression:"addRuleForm.bothUse"}},e._l(e.bothUseOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"每单可用券数量:",prop:"couponNum"}},[t("el-input",{attrs:{placeholder:"每天账单可使用优惠券最大数量"},model:{value:e.addRuleForm.couponNum,callback:function(a){e.$set(e.addRuleForm,"couponNum",a)},expression:"addRuleForm.couponNum"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动备注:",prop:"bargainTacticsNote"}},[t("el-input",{model:{value:e.addRuleForm.bargainTacticsNote,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsNote",a)},expression:"addRuleForm.bargainTacticsNote"}}),t("br")],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"120px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("activeForm")}}},[e._v("确认")])],1)],1)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"助力红包策略详情",visible:e.superDetailDialog},on:{"update:visible":function(a){e.superDetailDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:24}},[t("el-form",{attrs:{model:e.addRuleForm,inline:!0,"label-width":"130px"}},[t("el-form-item",{attrs:{label:"活动名称:"}},[t("div",[e._v("助力红包")])]),e._v(" "),t("el-form-item",{attrs:{label:"策略类型:"}},[t("div",[e._v("超级助力红包")])]),e._v(" "),t("el-form-item",{attrs:{label:"策略说明:"}},[t("div",[e._v("微信朋友帮忙砍价，微信结账后返现")])]),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"bargainTacticsStartTime"}},[[t("el-date-picker",{attrs:{disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.addRuleForm.bargainTacticsStartTime,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsStartTime",a)},expression:"addRuleForm.bargainTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.addRuleForm.bargainTacticsEndTime,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsEndTime",a)},expression:"addRuleForm.bargainTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"优惠金额:",prop:"bargainTacticsDiscount"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsDiscount,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsDiscount",a)},expression:"addRuleForm.bargainTacticsDiscount"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"最大参与人数:",prop:"bargainTacticsTotalNumber"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsTotalNumber,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsTotalNumber",a)},expression:"addRuleForm.bargainTacticsTotalNumber"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动结束时长:",prop:"bargainTimeSpan"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTimeSpan,callback:function(a){e.$set(e.addRuleForm,"bargainTimeSpan",a)},expression:"addRuleForm.bargainTimeSpan"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"距离基数:",prop:"bargainTacticsDistanceBase"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsDistanceBase,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsDistanceBase",a)},expression:"addRuleForm.bargainTacticsDistanceBase"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"距离增加:",prop:"bargainTacticsUintDistance"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsUintDistance,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsUintDistance",a)},expression:"addRuleForm.bargainTacticsUintDistance"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"最大距离:",prop:"barginMaxDistance"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.barginMaxDistance,callback:function(a){e.$set(e.addRuleForm,"barginMaxDistance",a)},expression:"addRuleForm.barginMaxDistance"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"每次砍价最大金额:",prop:"maxAmount"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.maxAmount,callback:function(a){e.$set(e.addRuleForm,"maxAmount",a)},expression:"addRuleForm.maxAmount"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠到免单:",prop:"bargainTacticsFreeStatus"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:""},on:{change:e.handleFreeChargeChange},model:{value:e.addRuleForm.bargainTacticsFreeStatus,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeStatus",a)},expression:"addRuleForm.bargainTacticsFreeStatus"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.isFreeCharge?t("el-form-item",{attrs:{label:"免单最低砍价人:",prop:"bargainTacticsFreeMinShareNum"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsFreeMinShareNum,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeMinShareNum",a)},expression:"addRuleForm.bargainTacticsFreeMinShareNum"}})],1):e._e(),e._v(" "),e.isFreeCharge?t("el-form-item",{attrs:{label:"每天免单数量:",prop:"bargainTacticsFreeMaxNum"}},[t("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.addRuleForm.bargainTacticsFreeMaxNum,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsFreeMaxNum",a)},expression:"addRuleForm.bargainTacticsFreeMaxNum"}})],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox-group",{attrs:{disabled:""},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v(e._s(a))])}))]],2),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券:",prop:"couponList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:e.selectedCouponList,callback:function(a){e.selectedCouponList=a},expression:"selectedCouponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券包:",prop:"couponBagList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:e.selectedCouponBagList,callback:function(a){e.selectedCouponBagList=a},expression:"selectedCouponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠券是否可以和助力活动同时使用",prop:"bothUse"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择","aria-readonly":"",disabled:""},model:{value:e.addRuleForm.bothUse,callback:function(a){e.$set(e.addRuleForm,"bothUse",a)},expression:"addRuleForm.bothUse"}},e._l(e.bothUseOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"每单可用券数量:",prop:"couponNum"}},[t("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.addRuleForm.couponNum,callback:function(a){e.$set(e.addRuleForm,"couponNum",a)},expression:"addRuleForm.couponNum"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动备注:",prop:"bargainTacticsNote"}},[t("el-input",{attrs:{disabled:""},model:{value:e.addRuleForm.bargainTacticsNote,callback:function(a){e.$set(e.addRuleForm,"bargainTacticsNote",a)},expression:"addRuleForm.bargainTacticsNote"}}),t("br")],1)],1)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"扫码返券策略设置",visible:e.scanCodeDialog},on:{"update:visible":function(a){e.scanCodeDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:22}},[t("el-form",{ref:"scanCodeForm",attrs:{model:e.scanCodeFormData,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"策略名称:",prop:"scanCodeTacticsName"}},[t("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:e.scanCodeFormData.scanCodeTacticsName,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsName",a)},expression:"scanCodeFormData.scanCodeTacticsName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"scanCodeTacticsStartTime"}},[[t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.scanCodeFormData.scanCodeTacticsStartTime,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsStartTime",a)},expression:"scanCodeFormData.scanCodeTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.scanCodeFormData.scanCodeTacticsEndTime,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsEndTime",a)},expression:"scanCodeFormData.scanCodeTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"返券周期:",prop:"scanCodePeriod "}},[t("el-input-number",{attrs:{min:0,label:"请选择"},model:{value:e.scanCodeFormData.scanCodePeriod,callback:function(a){e.$set(e.scanCodeFormData,"scanCodePeriod",a)},expression:"scanCodeFormData.scanCodePeriod "}})],1),e._v(" "),t("el-form-item",{attrs:{label:"周期生效时间:",prop:"effectTime"}},[[t("el-date-picker",{attrs:{clearable:!1,type:"date",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.scanCodeFormData.effectTime,callback:function(a){e.$set(e.scanCodeFormData,"effectTime",a)},expression:"scanCodeFormData.effectTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"扫码次数:",prop:"scanCodeTimes"}},[t("el-input",{model:{value:e.scanCodeFormData.scanCodeTimes,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTimes",a)},expression:"scanCodeFormData.scanCodeTimes"}}),e._v(" "),t("span",[e._v("(在活动时间段内，总共能够扫码的次数)")])],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券:",prop:"couponList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedCouponList,callback:function(a){e.selectedCouponList=a},expression:"selectedCouponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券包:",prop:"couponBagList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedCouponBagList,callback:function(a){e.selectedCouponBagList=a},expression:"selectedCouponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(a){e.checkAll=a},expression:"checkAll"}},[e._v("\n                全选\n              ")]),e._v(" "),t("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),t("el-checkbox-group",{on:{change:e.handleCheckedWeekChange},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v("\n                  "+e._s(a)+"\n                ")])}))]],2),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"120px"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitScanCodeForm("scanCodeForm")}}},[e._v("确认")]),e._v(" "),t("el-button",{on:{click:function(a){e.onCloseClick()}}},[e._v("取消")])],1)],1)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"扫码返券策略详情",visible:e.scanCodeDetailDialog},on:{"update:visible":function(a){e.scanCodeDetailDialog=a}}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:24}},[t("el-form",{attrs:{model:e.scanCodeFormData,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"策略名称:",prop:"scanCodeTacticsName"}},[t("el-input",{attrs:{disabled:""},model:{value:e.scanCodeFormData.scanCodeTacticsName,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsName",a)},expression:"scanCodeFormData.scanCodeTacticsName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"活动时间:",prop:"scanCodeTacticsStartTime"}},[[t("el-date-picker",{attrs:{disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.scanCodeFormData.scanCodeTacticsStartTime,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsStartTime",a)},expression:"scanCodeFormData.scanCodeTacticsStartTime"}}),e._v(" "),t("el-date-picker",{attrs:{"arrow-control":"",disabled:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","picker-options":e.endPickerOptions,placeholder:"结束时间"},model:{value:e.scanCodeFormData.scanCodeTacticsEndTime,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTacticsEndTime",a)},expression:"scanCodeFormData.scanCodeTacticsEndTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"返券周期:",prop:"scanCodePeriod "}},[t("el-input",{attrs:{disabled:""},model:{value:e.scanCodeFormData.scanCodePeriod,callback:function(a){e.$set(e.scanCodeFormData,"scanCodePeriod",a)},expression:"scanCodeFormData.scanCodePeriod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"周期生效时间:",prop:"effectTime"}},[[t("el-date-picker",{attrs:{disabled:"",type:"date",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","default-value":e.defaultBeginDate,"picker-options":e.beginPickerOptions,placeholder:"开始时间"},model:{value:e.scanCodeFormData.effectTime,callback:function(a){e.$set(e.scanCodeFormData,"effectTime",a)},expression:"scanCodeFormData.effectTime"}})]],2),e._v(" "),t("el-form-item",{attrs:{label:"扫码次数:",prop:"scanCodeTimes"}},[t("el-input",{attrs:{disabled:""},model:{value:e.scanCodeFormData.scanCodeTimes,callback:function(a){e.$set(e.scanCodeFormData,"scanCodeTimes",a)},expression:"scanCodeFormData.scanCodeTimes"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券:",prop:"couponList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:e.selectedCouponList,callback:function(a){e.selectedCouponList=a},expression:"selectedCouponList"}},e._l(e.merchantCouponOptions,function(e){return t("el-option",{key:e.couponID,attrs:{label:e.couponName,value:e.couponID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"本次活动可用优惠券包:",prop:"couponBagList"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:"",placeholder:"请选择"},model:{value:e.selectedCouponBagList,callback:function(a){e.selectedCouponBagList=a},expression:"selectedCouponBagList"}},e._l(e.merchantCouponBagOptions,function(e){return t("el-option",{key:e.couponBagID,attrs:{label:e.couponBagName,value:e.couponBagID}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"活动周期选择:",prop:"bargainDate"}},[[t("el-checkbox-group",{attrs:{disabled:""},on:{change:e.handleCheckedWeekChange},model:{value:e.checkedWeek,callback:function(a){e.checkedWeek=a},expression:"checkedWeek"}},e._l(e.week,function(a){return t("el-checkbox",{key:a,attrs:{label:a}},[e._v("\n                  "+e._s(a)+"\n                ")])}))]],2)],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=t("VU/8")(d,u,!1,function(e){t("vjau")},"data-v-d021620e",null);a.default=p.exports},vjau:function(e,a){}});