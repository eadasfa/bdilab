webpackJsonp([61],{"/0wK":function(e,a){},FBpk:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("Dd8w"),r=t.n(l),i=t("ZoQJ"),o={id:0,name:"",address:"",detailAddress:"",saleID:"",restaurantPhone:"",area:"",operateTypes:"",principalName:"",principalTelephone:"",principalIDCardNo:"",principalIDCardAPath:"",principalIDCardBPath:"",doorheadPhotoPathAndName:"",businessLicenseNo:"",principalEmail:"",barPhoto:"",restaurantPhoto:"",bankName:"",branchAddress:"",branchName:"",account:"",hygienicLicensePath:"",logoPath:"",businessLicensePath:"",businessDay:"",businessTime:"",otherService:""},s={data:function(){return{total:1,textarea:"",editDialog:!1,typeOptions:[],ruleForm:Object(i.b)(o),rules:{},areaList:[],formInline:{id:"",name:"",operateType:"",adCode:[],current:1},tableData:[]}},mounted:function(){this.getAreaTree(),this.getTypeTree(),this.query()},methods:{getTypeTree:function(){var e=this;this.$axios.get("/operateType/listAllname").then(function(a){e.typeOptions=a})},handleAvatarSuccess:function(e,a){console.log(e,a)},beforeAvatarUpload:function(e){var a="image/png"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 png 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},query:function(){var e=this;this.$axios.get("/restaurantInfo/filterRestaurantInfo",{params:r()({},this.formInline,{adCode:this.formInline.adCode.join(",")})}).then(function(a){e.total=a.total,e.tableData=a.records}).catch(function(e){console.log(e)})},handleUpdate:function(){var e=this;this.$axios.post("/restaurantInfo/addRestaurantInfo",this.ruleForm).then(function(a){Object(i.e)("修改成功",{type:"success"}),e.editDialog=!1,e.query()})},getAreaTree:function(){var e=this;this.$axios.get("/area/getTree").then(function(a){e.areaList=a.result})},handleCurrentChange:function(e){this.formInline.current=e,this.query()},handleCancel:function(){this.editDialog=!1},handleEdit:function(e,a){this.ruleForm=Object(i.b)(a),this.editDialog=!0}}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"商家编号"}},[t("el-input",{attrs:{placeholder:"请输入商家编号"},model:{value:e.formInline.id,callback:function(a){e.$set(e.formInline,"id",a)},expression:"formInline.id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商家名称"}},[t("el-input",{attrs:{placeholder:"请输入商家名称"},model:{value:e.formInline.name,callback:function(a){e.$set(e.formInline,"name",a)},expression:"formInline.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"业态状态"}},[t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.operateType,callback:function(a){e.$set(e.formInline,"operateType",a)},expression:"formInline.operateType"}},e._l(e.typeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"所属区域"}},[e.areaList?t("el-cascader",{attrs:{clearable:"",options:e.areaList},model:{value:e.formInline.adCode,callback:function(a){e.$set(e.formInline,"adCode",a)},expression:"formInline.adCode"}}):t("el-input",{model:{value:e.formInline.adCode,callback:function(a){e.$set(e.formInline,"adCode",a)},expression:"formInline.adCode"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1)],1),e._v(" "),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{width:50,fixed:"",type:"index",label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.$index+10*(e.formInline.current-1)+1))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"id",label:"商家编号","show-overflow-tooltip":"",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"principalName","min-width":"100px",label:"负责人名称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"商家名称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"detailAddress",label:"所属区域",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"address",label:"地址",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"principalTelephone",label:"电话",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"saleID",label:"销售员",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"area",label:"面积",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"restaurantPhone",label:"店铺电话",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){e.handleEdit(a.$index,a.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.formInline.current,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){e.$set(e.formInline,"current",a)}}})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"商家审核",width:"60%",visible:e.editDialog},on:{"update:visible":function(a){e.editDialog=a}}},[t("div",{staticStyle:{height:"50%",overflow:"auto"}},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,inline:!0,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"门店名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(a){e.$set(e.ruleForm,"name",a)},expression:"ruleForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"门店地址",prop:"address"}},[t("el-input",{model:{value:e.ruleForm.address,callback:function(a){e.$set(e.ruleForm,"address",a)},expression:"ruleForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"详细地址",prop:"detailAddress"}},[t("el-input",{model:{value:e.ruleForm.detailAddress,callback:function(a){e.$set(e.ruleForm,"detailAddress",a)},expression:"ruleForm.detailAddress"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"销售人员",prop:"saleID"}},[t("el-input",{model:{value:e.ruleForm.saleID,callback:function(a){e.$set(e.ruleForm,"saleID",a)},expression:"ruleForm.saleID"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺面积",prop:"area"}},[t("el-input",{model:{value:e.ruleForm.area,callback:function(a){e.$set(e.ruleForm,"area",a)},expression:"ruleForm.area"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺电话",prop:"restaurantPhone"}},[t("el-input",{model:{value:e.ruleForm.restaurantPhone,callback:function(a){e.$set(e.ruleForm,"restaurantPhone",a)},expression:"ruleForm.restaurantPhone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"经营品类",prop:"operateTypes"}},[t("el-input",{model:{value:e.ruleForm.operateTypes,callback:function(a){e.$set(e.ruleForm,"operateTypes",a)},expression:"ruleForm.operateTypes"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"负责人姓名",prop:"principalName"}},[t("el-input",{model:{value:e.ruleForm.principalName,callback:function(a){e.$set(e.ruleForm,"principalName",a)},expression:"ruleForm.principalName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"负责人电话",prop:"principalTelephone"}},[t("el-input",{model:{value:e.ruleForm.principalTelephone,callback:function(a){e.$set(e.ruleForm,"principalTelephone",a)},expression:"ruleForm.principalTelephone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"营业执照编号",prop:"businessLicenseNo"}},[t("el-input",{model:{value:e.ruleForm.businessLicenseNo,callback:function(a){e.$set(e.ruleForm,"businessLicenseNo",a)},expression:"ruleForm.businessLicenseNo"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"principalEmail"}},[t("el-input",{model:{value:e.ruleForm.principalEmail,callback:function(a){e.$set(e.ruleForm,"principalEmail",a)},expression:"ruleForm.principalEmail"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开户银行",prop:"bankName"}},[t("el-input",{model:{value:e.ruleForm.bankName,callback:function(a){e.$set(e.ruleForm,"bankName",a)},expression:"ruleForm.bankName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"支行地址",prop:"branchAddress"}},[t("el-input",{model:{value:e.ruleForm.branchAddress,callback:function(a){e.$set(e.ruleForm,"branchAddress",a)},expression:"ruleForm.branchAddress"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"支行名称",prop:"branchName"}},[t("el-input",{model:{value:e.ruleForm.branchName,callback:function(a){e.$set(e.ruleForm,"branchName",a)},expression:"ruleForm.branchName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开户账户",prop:"account"}},[t("el-input",{model:{value:e.ruleForm.account,callback:function(a){e.$set(e.ruleForm,"account",a)},expression:"ruleForm.account"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号码",prop:"principalIDCardNo"}},[t("el-input",{model:{value:e.ruleForm.principalIDCardNo,callback:function(a){e.$set(e.ruleForm,"principalIDCardNo",a)},expression:"ruleForm.principalIDCardNo"}})],1),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:"身份证正面",prop:"principalIDCardAPath"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",staticStyle:{width:"100%",height:"100%"},attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.principalIDCardAPath,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"身份证反面",prop:"principalIDCardBPath"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.principalIDCardBPath,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"门头照",prop:"doorheadPhotoPathAndName"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.doorheadPhotoPathAndName,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"餐厅照",prop:"restaurantPhoto"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.restaurantPhoto,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"收银吧台照",prop:"barPhoto"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.barPhoto,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"卫生许可证",prop:"hygienicLicensePath"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.hygienicLicensePath,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"商家LOGO",prop:"logoPath"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.logoPath,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"营业执照",prop:"businessLicensePath"}},[t("div",{staticClass:"set-img"},[t("img",{staticClass:"img",attrs:{src:e.$axios.defaults.baseURL+e.ruleForm.businessLicensePath,alt:""}})])]),e._v(" "),t("el-form-item",{attrs:{label:"营业日",prop:"businessDay"}},[t("el-input",{model:{value:e.ruleForm.businessDay,callback:function(a){e.$set(e.ruleForm,"businessDay",a)},expression:"ruleForm.businessDay"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"营业时段",prop:"businessTime"}},[t("el-input",{model:{value:e.ruleForm.businessTime,callback:function(a){e.$set(e.ruleForm,"businessTime",a)},expression:"ruleForm.businessTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"其他服务",prop:"otherService"}},[t("el-input",{model:{value:e.ruleForm.otherService,callback:function(a){e.$set(e.ruleForm,"otherService",a)},expression:"ruleForm.otherService"}})],1),t("br"),e._v(" "),t("el-form-item",{staticStyle:{"margin-left":"200px"}},[t("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.handleUpdate()}}},[e._v("确定")])],1)],1)],1)])],1)},staticRenderFns:[]};var m=t("VU/8")(s,n,!1,function(e){t("/0wK")},"data-v-1c17ceb0",null);a.default=m.exports}});