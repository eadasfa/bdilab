webpackJsonp([30],{BOfW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={created:function(){this.handleCurrentChange()},data:function(){return{total:0,operationType:"add",dialogFormVisible:!1,regionForm:{number:"",parentNum:"",regionName:""},rules:{number:[{required:!0,message:"请输入编号",trigger:"blur"}],parentNum:[{required:!0,message:"请输入上级编号",trigger:"blur"}],regionName:[{required:!0,message:"请输入区域名称",trigger:"blur"}]},formInline:{adCode:"",cityParentCode:"",areaName:"",current:1},cus_info_addsub:!0,tableData:[]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"add"===t.operationType?t.addSubmit():t.editSubmit()})},addSubmit:function(){var e=this,t=this.regionForm;this.$axios.post("/addRegion",t).then(function(t){console.log(t),e.dialogFormVisible=!1}).catch(function(e){console.log(e)})},editSubmit:function(){var e=this,t=this.regionForm;this.$axios.post("/updateRegion",t).then(function(t){console.log(t),e.dialogFormVisible=!1}).catch(function(e){console.log(e)})},resetForm:function(e){this.$refs[e].resetFields()},queryAllRegion:function(){var e=this;this.$axios.get("/area/get",{params:this.formInline}).then(function(t){e.tableData=t.records,e.total=t.total}).catch(function(e){console.log(e)})},onSubmit:function(){this.queryAllRegion()},handleAdd:function(){this.operationType="add",this.dialogFormVisible=!0},handleEdit:function(e,t){this.operationType="edit",this.regionForm=t},handleDelete:function(e,t){this.$axios.get("/deleteRegion",{params:{number:t.number}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){this.formInline.current=e,this.queryAllRegion()}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"handle-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"编号"}},[n("el-input",{staticClass:"region-input",attrs:{placeholder:"请输入编号"},model:{value:e.formInline.adCode,callback:function(t){e.$set(e.formInline,"adCode",t)},expression:"formInline.adCode"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上级编号"}},[n("el-input",{staticClass:"region-input",attrs:{placeholder:"请输入上级编号"},model:{value:e.formInline.cityParentCode,callback:function(t){e.$set(e.formInline,"cityParentCode",t)},expression:"formInline.cityParentCode"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"区域名称"}},[n("el-input",{staticClass:"region-input",attrs:{placeholder:"请输入区域名称"},model:{value:e.formInline.areaName,callback:function(t){e.$set(e.formInline,"areaName",t)},expression:"formInline.areaName"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),e._v(" "),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{width:"50px",label:"序号",type:"index",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"adCode",label:"编号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"cityParentCode",label:"上级编号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"areaName",label:"区域名称",align:"center"}})],1),e._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),n("el-dialog",{attrs:{title:"增加区域",width:"400px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.regionForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"编号",prop:"number"}},[n("el-input",{model:{value:e.regionForm.number,callback:function(t){e.$set(e.regionForm,"number",t)},expression:"regionForm.number"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上级编号",prop:"parentNum"}},[n("el-input",{model:{value:e.regionForm.parentNum,callback:function(t){e.$set(e.regionForm,"parentNum",t)},expression:"regionForm.parentNum"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"区域名称",prop:"regionName"}},[n("el-input",{model:{value:e.regionForm.regionName,callback:function(t){e.$set(e.regionForm,"regionName",t)},expression:"regionForm.regionName"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确定")]),e._v(" "),n("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)])},staticRenderFns:[]};var i=n("VU/8")(o,r,!1,function(e){n("TYQI")},"data-v-c0f3af0c",null);t.default=i.exports},TYQI:function(e,t){}});